## Goal
주헌이와 AI를 이용해서 디펜스 게임을 만들고 글로 자신의 생각을 논리적으로 전달하는 연습을 한다.

## 게임정보
이 게임은 성 디펜스 게임이고 시간이 지날수록 몬스터를 소환할 수 있는 에너지 큐브가 모이고 에너지 큐브로 그 몬스터를 이용해 상대성을 파괴하면 이기는 게임입니다. 컴퓨터와 사용자가 대결합니다. 게임을 시작할 때는 10개의 몬스터가 렌덤으로 `common` 부터 `super epic`까지 몬스터가 제공됩니다.

### 성에 대한 정보
- 성은 플레이어의 성과 AI의 AI성이 있습니다.
- 성에는 `에너지 크리스탈`이 있어서 성을 공격하는 몬스터를 공격합니다.
- `에너지 크리스탈`은 몬스터를 한번에 하나씩만 공격합니다.
- 

### 게임시간
- 게임시간이 모두 지났는데 상대성을 파괴하지 못했을 경우 성의 체력이 더 높은 사람이 승리합니다.

### 몬스터 설명
- 몬스터 등급
	- 몬스터는 등급과 종류가 있는데 등급은 `common`, `rare`, `epic`, `super epic`, `mystic`, `legendary`, `hero`가 있다.
	- `common`이 제일 낮은 등급이며 `common`, `rare`, `epic`, `super epic`, `mystic`, `legendary`, `hero` 순서로 좋은 등급이다
- 몬스터 종류
	- 몬스터는 `소환형`, `탱커`, `힐러`, `attacker`, `원거리 딜러`가 있다
- 몬스터 소환방법
	- 몬스터는 에너지 큐브를 사용해서 배틀에 참가할 수 있습니다.
	- 등급이 높을 수록 에너지 큐브를 많이 사용합니다.
- 모든 몬스터가 상대 몬스터를 공격할 때 적 몬스터는 밀려납니다.

### 몬스터 덱카드
- 몬스터 덱카드는 10개로 구성됩니다.
- 몬스터 덱카드에는 몬스터의 등급이 글자로 표시됩니다.

### 게임화면
- 게임화면 몬스터 모양은 몬스터의 종류별로 구분될 수 있어야 합니다.

### 에너지 큐브
- 에너지큐브는 배틀을 시작하면 1초에 1개씩 플레이어에게 지급됩니다.
- 배틀시간이 끝나기 전 30초 동안에는 에너지 큐브가 1초에 2개씩 플레이어에게 지급됩니다.
- 에너지큐브의 최대값은 초급30개, 중급40개, 고급50개입니다.

### 배틀 맵
- 배틀은 다양한 맵에서 진행됩니다.
- 배틀 맵 마다 배틀시간이 다릅니다.

### AI의 공격방법
- AI는 초급, 중급, 고급으로 레벨이 있습니다. 
- 플레이어는 AI의 레벨을 고를 수 있습니다.
- AI초급은  `common`, `rare`, `epic`, `super epic` 몬스터 사용
- AI중급은 `common`, `rare`, `epic`, `super epic`, `mystic` 몬스터 사용
- AI고급은 전체 몬스터 사용합니다.

### 아이템설명
- 아이템은 `사용형`과 `장착형` 2가지 종류가 있다.
	- 사용형 아이템
		- 배틀 중 사용하여 상대방에게 디버프 준다.
		- 배틀 중 사용하여 아군에게 버프를 준다.
- 장착형 아이템
	- 배틀 전 아군 몬스터에게 사용하여 버프를 하거나 진화할 수 있다.

### 승리 또는 패배 조건
- 플레이어가 AI성을 부쉈을 때 플레이어는 승리합니다.
- 플레이어는 배틀필드에 소환할 수 있는 몬스터는 총 7개입니다. 죽으면 다시 자신이 원하는 몬스터를 소환할 수 있습니다.

### UI 표시 요구사항
- 게임 화면 좌측 상단에 다음 정보를 표시합니다:
  - 플레이어 성 HP
  - 플레이어 에너지 (⚡ 아이콘)
  - 배틀필드 몬스터 수 (👾 아이콘, 형식: `현재수/최대수`)
    - 초록색: 여유 있음 (0-4개)
    - 주황색: 거의 가득 참 (5-6개)
    - 빨강색: 가득 찬 상태 (7개)
- 게임 화면 중앙 상단에 남은 시간을 표시합니다.
- 게임 화면 우측 상단에 AI 성 HP를 표시합니다.

---

## 📱 모바일 UI 요구사항

### 현재 문제점
| 문제 영역   | 현재 상태                | 모바일 이슈               |
| ----------- | ------------------------ | ------------------------- |
| 캔버스 크기 | 고정 1280×720px          | 모바일 화면보다 훨씬 큼   |
| 터치 지원   | 마우스 클릭만 지원       | 터치 이벤트 미지원        |
| UI 요소     | 고정 크기 버튼 (60×80px) | 작은 화면에서 조작 어려움 |
| 레이아웃    | 가로 중심 고정 레이아웃  | 세로 화면에서 비효율적    |
| 폰트 크기   | 고정 크기 (1.2rem, 3rem) | 작은 화면에서 가독성 문제 |
| 난이도 버튼 | 가로 배치 (gap: 20px)    | 세로 화면에서 넘침        |

### Phase 1: 반응형 캔버스 및 기본 레이아웃 (우선순위: 🔴 최고)

#### 1.1 반응형 캔버스 구현
- 화면 크기에 맞게 캔버스가 자동으로 조절
- 기본 종횡비 (16:9) 유지하면서 화면에 맞게 크기 조절
- `window.resize` 이벤트 핸들러 추가
- 모바일에서 세로 모드(Portrait) 지원을 위한 레이아웃 대응

#### 1.2 모바일 뷰포트 최적화
- `@media (max-width: 768px)` 미디어 쿼리 추가
- `@media (orientation: portrait)` 세로 모드 전용 레이아웃

### Phase 2: 터치 인터페이스 구현 (우선순위: 🔴 최고)

#### 2.1 터치 이벤트 지원
| 기능      | 설명                               |
| --------- | ---------------------------------- |
| 터치 시작 | `touchstart` 이벤트 처리           |
| 터치 이동 | `touchmove` 이벤트 (드래그 소환용) |
| 터치 종료 | `touchend` 이벤트 처리             |
| 터치 취소 | `touchcancel` 예외 처리            |

#### 2.2 모바일 친화적 버튼 크기
- 모바일에서 최소 터치 영역 44px × 44px 보장

### Phase 3: 모바일 UI 레이아웃 재설계 (우선순위: 🟡 중간)

#### 3.1 세로 모드 레이아웃
```
┌─────────────────────────────┐
│     [HP: 1000]  [03:00]     │  ← 상단 정보 바
│            ⚡ 15            │  ← 에너지 표시
├─────────────────────────────┤
│      ┌───────────────┐      │
│      │  Game Canvas  │      │  ← 게임 영역 (자동 축소)
│      └───────────────┘      │
├─────────────────────────────┤
│   [👻] [👽] [🤖] [🐲]      │  ← 덱 카드 (하단 고정)
│    2⚡   4⚡   6⚡  10⚡     │
└─────────────────────────────┘
```

#### 3.2 가로 모드 레이아웃
```
┌────────────────────────────────────────────────┐
│ [HP:1000] ⚡15  │    03:00    │    [HP:1000]   │
├────────────────────────────────────────────────┤
│              Game Canvas (Full Width)          │
├────────────────────────────────────────────────┤
│     [👻 2⚡] [👽 4⚡] [🤖 6⚡] [🐲 10⚡]       │
└────────────────────────────────────────────────┘
```

### Phase 4: 시작 화면 및 메뉴 모바일 최적화 (우선순위: 🟡 중간)

#### 4.1 시작 화면 개선
| 현재                  | 개선                         |
| --------------------- | ---------------------------- |
| 가로 배치 난이도 버튼 | 세로 스택 배치 (모바일)      |
| 고정 폰트 크기        | 반응형 폰트 (vw, clamp 사용) |
| 작은 터치 영역        | 최소 48px 터치 영역          |

### Phase 5: 게임플레이 UX 개선 (우선순위: 🟢 낮음)

#### 5.1 드래그 앤 드롭 소환
- 카드를 길게 누르면 드래그 모드로 전환
- 필드에 드롭하면 해당 위치에 몬스터 소환

#### 5.2 햅틱 피드백 (선택사항)
- 진동 피드백 지원 기기에서 활성화

#### 5.3 화면 회전 처리
- 화면 방향 변경 시 레이아웃 자동 전환
- 게임 일시정지 없이 부드럽게 전환

### 📁 수정 대상 파일

| 파일                       | 수정 내용                            |
| -------------------------- | ------------------------------------ |
| `style.css`                | 반응형 스타일, 미디어 쿼리 추가      |
| `index.html`               | 뷰포트 메타태그 확인, 터치 관련 속성 |
| `js/constants.js`          | 동적 크기 계산 함수 추가             |
| `js/Game.js`               | 반응형 캔버스 로직, resize 핸들러    |
| `js/managers/UIManager.js` | 터치 이벤트, 동적 UI 업데이트        |
| `js/main.js`               | resize 이벤트 연결                   |

### 🔢 구현 우선순위

| 순서 | 단계      | 예상 작업량 | 설명                 |
| ---- | --------- | ----------- | -------------------- |
| 1    | Phase 1.1 | ⭐⭐          | 반응형 캔버스 (필수) |
| 2    | Phase 2.1 | ⭐⭐          | 터치 이벤트 (필수)   |
| 3    | Phase 1.2 | ⭐           | 뷰포트 최적화        |
| 4    | Phase 3.1 | ⭐⭐⭐         | 세로 모드 레이아웃   |
| 5    | Phase 4.1 | ⭐⭐          | 시작 화면 개선       |
| 6    | Phase 3.2 | ⭐⭐          | 가로 모드 최적화     |
| 7    | Phase 5   | ⭐⭐⭐         | UX 개선 (선택)       |


